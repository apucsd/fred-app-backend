model Message {
  id         String   @id @default(auto()) @map("_id") @db.ObjectId
  chatId     String   @db.ObjectId
  senderId   String   @db.ObjectId
  text       String
  file       String? 
  isRead     Boolean  @default(false)
  isDeleted  Boolean  @default(false)
  createdAt  DateTime @default(now())
  updatedAt  DateTime @updatedAt

  chat   Chat @relation("ChatMessages", fields: [chatId], references: [id])
  chatsWithLastMessage Chat[] @relation("ChatLastMessage")
  sender User @relation("MessageSender", fields: [senderId], references: [id])

  @@map("messages")
}
